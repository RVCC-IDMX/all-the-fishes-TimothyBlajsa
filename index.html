<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All The Fishes</title>
    <script src="https://pixijs.download/release/pixi.js">
    </script>
</head>
<body>
    
<script>

    //The App
    var app = new PIXI.Application({
        width:640,
        height:400,
        //background: 'img/background.jpg'
        backgroundColor: 0x000000
    });

    //Add view to the document
    document.body.appendChild(app.view);

    //My First Sprite
    let fish1 = PIXI.Sprite.from("img/bigfish.png");

    //Change sprite coordinates
    fish1.x = 420;
    fish1.y = 0;

    //Change Rotationw pi or degrees
    //fish1.rotation = .5 * Math.PI;
    //Change sprite tint
    //fish1.anchor.set(.5);
    

    //Change sprite size
    //fish1.width = 500;
    //fish1.scale.x = 1;
    fish1.scale.set(.095);


    //Add it to the stage
    app.stage.addChild(fish1);

    //My Second Sprite
    let fish2 = PIXI.Sprite.from("img/smallfish.png");

    //Change sprite2 size
    //fish1.width = 500;
    fish2.scale.set(.07);
    fish2.x = 30;


    //Add it to the stage
    app.stage.addChild(fish2);

    //My background sprite
    let background = PIXI.Sprite.from("img/background.jpg");
    background.scale.set(.7);
    app.stage.addChild(background);

    //My kelp sprite
    let kelp1 = PIXI.Sprite.from("img/kelp.png");
    kelp1.scale.set(.5);
    kelp1.tint = 0x212f55;
    app.stage.addChild(kelp1);

    //My coral sprite
    let coral = PIXI.Sprite.from("img/coral.png");
    coral.x = 300;
    coral.scale.set(.5);
    coral.tint = 0x253152;
    app.stage.addChild(coral);

    //My school sprite
    let school = PIXI.Sprite.from("img/school.png");
    school.tint = 0x090c14;
    school.x = 200;
    school.y = 55;
    school.scale.set(.15);
    app.stage.addChild(school);

    let kelp2 = PIXI.Sprite.from("img/kelp.png");
    kelp2.scale.set(.675);
    kelp2.y = .4;
    app.stage.addChild(kelp2);

    //My second coral sprite
    let coral2 = PIXI.Sprite.from("img/coral.png");
    coral2.scale.set(.8);
    coral2.y = 20;
    coral2.x = -400;
    coral2.tint = 0x5676c7;
    app.stage.addChild(coral2);


    let fish3 = PIXI.Sprite.from("img/betta.png");
    fish3.scale.set(.1);
    fish3.x = 350;
    fish3.tint = 0x2e3f6b;
    app.stage.addChild(fish3);
    //My container
    var my_container = new PIXI.Container();
        my_container.addChild(fish1);
        my_container.addChild(fish2);
        my_container.y = 100;
        //my_container.x = width/2;
        //my_container.y = height/2;

    app.stage.addChild(my_container);



    //ANimation loop function
    function animationLoop() {


        //fish1.y -= 1;
        //fish2.y += 1;
       // fish1.angle += 1;
       //my_container += 1;
        let time = Date.now();

        let wobble1 = Math.sin(time/1000)*20;
        let wobble2 = Math.cos(time/1000)*20;
        let wobble3 = Math.sin(time/1500)*20;
        let sway = Math.sin(time/1500)*10;
        let sway2 = Math.cos(time/1200)*10;
        let swim = Math.sin(time/1500)*1000;
        
        

        fish1.y = wobble1;
        fish2.y = wobble2;
        fish3.y = wobble3;
        kelp1.x = sway;
        kelp2.x = sway2;
        


        //Swim and turn animation
        //fish1.scale.x = Math.sin(time/1000);
       
        school.x = swim;
        
        

        setTimeout(animationLoop, 1000/30);
    }
    animationLoop();



</script>


</body>
</html>